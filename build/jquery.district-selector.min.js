!function(t,o){"use strict";var n=t(o.document),i="1",e=function(o){var n={provinceId:"",cityId:"",areaId:"",provinceCode:null,cityCode:null,areaCode:null,emptyText:"请选择",onLoadSuccess:null,ajaxConfig:{url:null,responseDataTemplate:{districtCode:"districtCode",districtName:"districtName"}}};this.options=t.extend({},n,o),this.options.ajaxConfig.url||s(this),p(this),c(this,t("#"+this.options.provinceId),i,!0)};e.prototype={getEmptyHtml:function(){return"<option value=''>"+this.options.emptyText+"</option>"}};var a=function(o){var n=t("#"+o.options.provinceId);if(o.options.provinceCode&&"unknown"!=o.options.provinceCode){n.val(o.options.provinceCode),n.change();var i=t("#"+o.options.cityId);o.options.cityCode&&"unknown"!=o.options.cityCode&&(i.val(o.options.cityCode),i.change(),o.options.areaCode&&"unknown"!=o.options.areaCode&&t("#"+o.options.areaId).val(o.options.areaCode))}},s=function(o){for(var i in DistrictSelectorData)if(DistrictSelectorData.hasOwnProperty(i)){var e=DistrictSelectorData[i],a=e[0],s=e[1],p=t("<option value='"+i+"'>"+a+"</option>"),c=t(n).data(s)?t(n).data(s):[t(o.getEmptyHtml())];c.push(p),p.data(i,e),n.data(s,c)}},p=function(o){var n=t("#"+o.options.provinceId),i=t("#"+o.options.cityId),e=t("#"+o.options.areaId);n.change(function(){i.html(o.getEmptyHtml()),e.html(o.getEmptyHtml()),c(o,i,t(this).find("option:selected"))}),i.change(function(){e.html(o.getEmptyHtml()),c(o,e,t(this).find("option:selected"))})},c=function(o,e,a,s){if(o.options.ajaxConfig.url){e.html(o.getEmptyHtml());var p=a==i?null:a.data(a.val());t.getJSON(o.options.ajaxConfig.url,p,function(n){t.each(n,function(){var n=this[o.options.ajaxConfig.responseDataTemplate.districtCode],i=this[o.options.ajaxConfig.responseDataTemplate.districtName],a=t("<option value='"+n+"'>"+i+"</option>");e.append(a),a.data(n,this)}),r(o,e,s)})}else{var c=a==i?i:a.val(),d=n.data(c)?n.data(c):o.getEmptyHtml();e.html(d),r(o,e,s)}},r=function(o,n,i){n.val(""),t.isFunction(o.options.onLoadSuccess)&&o.options.onLoadSuccess(n),i&&a(o)};t.initDistrictSelector=function(t){return new e(t)}}(jQuery,window);